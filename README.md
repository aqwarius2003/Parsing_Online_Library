# Описание проекта


Эти скрипты предназначены для автоматизированного скачивания книг и изображений с сайта [tululu.org](https://tululu.org/).
## tululu.py: 
скрипт позволяет скачивать текстовые файлы и обложки книг, используя диапазон идентификаторов книг. Скрипт также собирает информацию о книгах, такую как автор, жанры, комментарии, и сохраняет ее локально.
Возможности

 - Скачивание книг в формате .txt с сайта.
 - Скачивание обложек книг в формате изображения.
 - Парсинг информации о книгах: название, автор, комментарии, жанры.
 - Обработка HTTP ошибок и редиректов.
 - Автоматическое создание папок для сохранения данных.

## parse_tululu_category
- Скрипт для скачивания книг с сайта книги из категории ["Фантастика"](https://tululu.org/l55/)

### Установка

1. Клонировать репозиторий на свой локальный компьютер.
2. Установить необходимые пакеты, используя
```
pip install -r requirements.txt
```

### Использование tululu.py

Скрипт поддерживает выполнение через командную строку. Вам нужно указать диапазон идентификаторов книг, которые хотите скачать. Например:

```
python script.py 1 10
```

Этот пример скачает книги с идентификаторами от 1 до 10.
Аргументы:

    start_id: начальный идентификатор книги.
    end_id: конечный идентификатор книги.

### Пример использования
```
python script.py 20 30
```

Этот пример скачает книги с идентификаторами от 20 до 30.
### Структура проекта

После выполнения скрипта файлы будут сохранены в следующие папки:

    books/ — здесь сохраняются текстовые файлы книг в формате .txt.
    images/ — здесь сохраняются обложки книг в формате .jpg или .gif.

Пример структуры папок:

    .
    ├── books/
    │   ├── 1.Название_книги.txt
    │   ├── 2.Название_книги.txt
    │   └── ...
    ├── images/
    │   ├── 1.jpg
    │   ├── 2.jpg
    │   └── ...

#### Возможные ошибки и их обработка

    HTTPError: Если происходит редирект или ошибка запроса, скрипт продолжит выполнение для других книг и пропустит проблемные книги.
    Недопустимые символы в именах файлов: Скрипт автоматически очищает имена файлов от недопустимых символов с помощью библиотеки pathvalidate.

#### Ограничения

    Поддерживаемые форматы изображений: .jpg, .gif.
    При отсутствии обложки используется изображение-заглушка nopic.gif, которая не скачивается повторно.

#### Логирование

Скрипт ведет логирование процессов скачивания, записывая полезную информацию, такую как автор книги, название, пути к скачанным файлам, жанры и комментарии. Логи выводятся в консоль.
Пример вывода логов:

            > python tululu.py 20 20
            0000-00-00 00:00:00,000 - __main__ - INFO -                                                                                             
            Автор: Вуйма Антон                                                                                                                          
            Заголовок: Черный PR. Защита и нападение в бизнесе и не только                                                                              
            Изображение: https://tululu.org/shots/20.jpg                                                                                                
            Пути к скачанным файлам:                                                                                                                    
            books/20.Черный PR. Защита и нападение в бизнесе и не только.txt                                                                            
            images/20.jpg                                                                                                                               
            ['Хороший книга.', 'Интересно. Поучительно. Рекомендую читать.', 'М-дааа уж! Вот это мышление... Молодец Антошка, отличная книга! Спасибо!']
            ['Деловая литература']       


### Использование parse_tululu_category.py

Скрипт принимает следующие аргументы:

- **--start_page:** Номер страницы, с которой начать скачивание.
- **--end_page:** Номер страницы, на которой закончить скачивание.
- **--dest_folder:** Папка, в которую будут скачаны книги.
- **--skip_img:** Не скачивать изображения книг.
- **--skip_txt:** Не скачивать тексты книг.

Пример использования:

```
  python parse_tululu_category.py --start_page 695 --end_page 700 --dest_folder fantastic
```
Эта команда скачает книги с 695 по 700 страницу категории и сохранит их в папке `fantastic`.

```
python parse_tululu_category.py --start_page 200 --dest_folder books
```
Если не указать конечную страницу, скрипт скачает все страницы, начиная со стартовой 200-й:


### Цель проекта

Проект на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
